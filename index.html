<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>藥師咒羅馬拼音對照表</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', 'Noto Sans Devanagari', serif;
            background: 
                /* 更自然的紙張紋理 - 使用不規則的形狀和多層次疊加 */
                radial-gradient(ellipse 180px 95px at 17% 33%, rgba(0, 165, 32, 0.08) 0%, transparent 30%),
                radial-gradient(ellipse 140px 200px at 84% 67%, rgba(205, 133, 63, 0.06) 0%, transparent 35%),
                radial-gradient(ellipse 230px 120px at 42% 8%, rgba(139, 69, 19, 0.04) 0%, transparent 40%),
                radial-gradient(ellipse 90px 160px at 12% 88%, rgba(255, 215, 0, 0.05) 0%, transparent 28%),
                radial-gradient(ellipse 170px 85px at 78% 15%, rgba(160, 82, 45, 0.03) 0%, transparent 32%),
                radial-gradient(ellipse 110px 145px at 65% 92%, rgba(184, 134, 11, 0.04) 0%, transparent 38%),
                radial-gradient(ellipse 95px 210px at 3% 45%, rgba(139, 69, 19, 0.025) 0%, transparent 42%),
                radial-gradient(ellipse 260px 75px at 88% 58%, rgba(205, 133, 63, 0.035) 0%, transparent 30%),
                radial-gradient(ellipse 125px 180px at 35% 78%, rgba(160, 82, 45, 0.02) 0%, transparent 45%),
                /* 細微的噪點紋理 */
                radial-gradient(circle at 23% 19%, rgba(139, 69, 19, 0.015) 0%, transparent 15%),
                radial-gradient(circle at 67% 84%, rgba(205, 133, 63, 0.02) 0%, transparent 12%),
                radial-gradient(circle at 91% 23%, rgba(184, 134, 11, 0.018) 0%, transparent 14%),
                radial-gradient(circle at 8% 76%, rgba(160, 82, 45, 0.012) 0%, transparent 16%),
                radial-gradient(circle at 45% 34%, rgba(255, 215, 0, 0.01) 0%, transparent 13%),
                radial-gradient(circle at 72% 61%, rgba(139, 69, 19, 0.008) 0%, transparent 18%),
                /* 主背景漸層 */
                linear-gradient(135deg, #f9f6f0 0%, #f0ebe0 25%, #e8dcc0 50%, #e0d3a8 75%, #d4c5a0 100%);
            background-size: 
                250px 130px, 190px 280px, 320px 160px, 130px 220px, 240px 110px, 150px 200px, 130px 290px, 360px 100px, 170px 250px,
                35px 35px, 42px 42px, 38px 38px, 46px 46px, 33px 33px, 40px 40px,
                100% 100%;
            background-attachment: fixed;
            margin: 0;
            padding: 0 125px; /* 桌面版：更大的 padding */
            line-height: 1.8;
            color: #3d2914;
            position: relative;
            min-height: 100vh;
            padding-bottom: 80px; /* 為固定控制欄增加底部間距 */
        }
        
        .container {
            max-width: 95vw;
            margin: 30px auto; /* 桌面版：更大的 margin */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 3px solid rgba(139, 69, 19, 0.6);
            border-radius: 12px;
            padding: 20px; /* 桌面版：更大的 padding */
            box-shadow: 
                0 0 30px rgba(255, 215, 0, 0.3),
                inset 0 1px 2px rgba(255, 255, 255, 0.2),
                0 8px 25px rgba(139, 69, 19, 0.2);
            position: relative;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(255, 215, 0, 0.4) 0%, 
                rgba(218, 165, 32, 0.4) 25%, 
                rgba(184, 134, 11, 0.4) 50%, 
                rgba(205, 133, 63, 0.4) 75%, 
                rgba(139, 69, 19, 0.4) 100%);
            border-radius: 14px;
            z-index: -1;
        }
        
        .title {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
            background: linear-gradient(135deg, 
                rgba(139, 69, 19, 0.95) 0%, 
                rgba(160, 82, 45, 0.95) 25%,
                rgba(205, 133, 63, 0.95) 50%,
                rgba(184, 134, 11, 0.95) 75%,
                rgba(139, 69, 19, 0.95) 100%);
            color: #fff4e6;
            padding: 15px 10px;
            margin: -20px -20px 20px -20px;
            border-radius: 8px 8px 0 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            box-shadow: 
                0 2px 8px rgba(139, 69, 19, 0.3),
                inset 0 1px 2px rgba(255, 215, 0, 0.3);
        }
        
        .title::before {
            content: '☸ ॐ ☸';
            position: absolute;
            left: 15px;
            font-size: 16px;
            color: rgba(255, 215, 0, 0.8);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
        }
        
        .title::after {
            content: '☸ ॐ ☸';
            position: absolute;
            right: 15px;
            font-size: 16px;
            color: rgba(255, 215, 0, 0.8);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
        }
        
        .mantra-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
            align-items: flex-start;
        }
        
        .word-group {
            text-align: center;
            min-width: 120px;
            flex: 1;
            position: relative;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .word-group:hover {
            background: rgba(255, 248, 220, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(184, 134, 11, 0.2);
        }
        
        .romanization {
            font-family: 'Times New Roman', 'Noto Sans Devanagari', serif;
            font-style: italic;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            letter-spacing: 2px;
            text-shadow: 0 1px 3px rgba(139, 69, 19, 0.3);
            position: relative;
        }
        
        .voiceless {
            color: #4a6fa5; /* 較淺的深藍色 - 清音 */
        }
        
        .voiced {
            color: #8b2635; /* 較重的深紅色 - 濁音 */
        }
        
        .voiced-pronunciation {
            color: #4a6fa5; /* 清音顏色 */
            text-decoration: underline;
            text-decoration-color: #ff6b35;
            text-decoration-thickness: 2px;
            position: relative;
        }
        
        .voiced-pronunciation::after {
            content: "→d";
            position: absolute;
            top: -10px;
            left: -10px;
            font-size: 12px;
            color: #ff6b35;
            font-weight: normal;
        }
        
        .chinese {
            font-size: 16px;
            font-weight: bold;
            color: #2d1810;
            line-height: 1.4;
            text-shadow: 0 1px 2px rgba(255, 248, 220, 0.8);
            position: relative;
        }
        
        .separator {
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(184, 134, 11, 0.3) 20%, 
                rgba(205, 133, 63, 0.6) 50%, 
                rgba(184, 134, 11, 0.3) 80%, 
                transparent 100%);
            margin: 20px 0;
            position: relative;
        }
        
        .separator::before {
            content: '❋';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 248, 220, 0.9);
            color: rgba(139, 69, 19, 0.8);
            padding: 5px 10px;
            border-radius: 50%;
            font-size: 12px;
            box-shadow: 0 2px 6px rgba(139, 69, 19, 0.2);
        }
        
        /* 主要內容區域 - 左右對照 */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        /* 垂直檢視模式 */
        .main-content.vertical-mode {
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .left-section {
            display: flex;
            flex-direction: column;
        }
        
        .right-section {
            display: flex;
            flex-direction: column;
        }
        
        .mantra-content {
            background: 
                radial-gradient(ellipse 120px 80px at 23% 67%, rgba(205, 133, 63, 0.045) 0%, rgba(205, 133, 63, 0.008) 35%, transparent 60%),
                radial-gradient(ellipse 90px 140px at 78% 15%, rgba(139, 69, 19, 0.04) 0%, rgba(139, 69, 19, 0.007) 30%, transparent 55%),
                radial-gradient(ellipse 150px 70px at 45% 85%, rgba(160, 82, 45, 0.038) 0%, rgba(160, 82, 45, 0.006) 40%, transparent 65%),
                radial-gradient(ellipse 70px 110px at 12% 25%, rgba(255, 215, 0, 0.03) 0%, rgba(255, 215, 0, 0.005) 45%, transparent 70%),
                radial-gradient(ellipse 200px 60px at 89% 72%, rgba(184, 134, 11, 0.025) 0%, rgba(184, 134, 11, 0.004) 50%, transparent 75%),
                linear-gradient(135deg, #ffffff 0%, #fefefe 25%, #fdfdfd 50%, #fcfcfc 75%, #fafafa 100%);
            background-size: 
                180px 120px, 140px 190px, 200px 110px, 100px 160px, 250px 90px,
                100% 100%;
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .section-title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #8b4513;
            background: 
                linear-gradient(135deg, 
                    rgba(255, 248, 220, 0.9) 0%,
                    rgba(250, 235, 215, 0.9) 50%,
                    rgba(245, 222, 179, 0.9) 100%);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            padding: 12px 15px;
            border-radius: 25px;
            border: 2px solid rgba(184, 134, 11, 0.4);
            position: relative;
            box-shadow: 
                0 3px 12px rgba(139, 69, 19, 0.15),
                inset 0 1px 2px rgba(255, 255, 255, 0.6);
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }
        
        .section-title::before {
            content: '❁';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(184, 134, 11, 0.7);
            font-size: 14px;
        }
        
        .section-title::after {
            content: '❁';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(184, 134, 11, 0.7);
            font-size: 14px;
        }
        

        
        .video-section {
            text-align: center;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            height: 0;
            padding-bottom: 337.5px; /* 600px * 0.5625 = 337.5px for 16:9 ratio */
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        /* 在小螢幕上使用百分比 */
        @media (max-width: 600px) {
            .video-container {
                padding-bottom: 56.25% !important;
            }
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* 影片控制區域 - 統一固定在底部 */
        .video-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 12px 15px;
            background: 
                linear-gradient(180deg, 
                    rgba(255, 248, 220, 0.98) 0%,
                    rgba(250, 235, 215, 0.98) 50%,
                    rgba(245, 222, 179, 0.98) 100%);
            backdrop-filter: blur(15px);
            border-top: 2px solid rgba(184, 134, 11, 0.3);
            box-shadow: 
                0 -4px 20px rgba(139, 69, 19, 0.15),
                inset 0 1px 2px rgba(255, 255, 255, 0.6);
        }
        
        /* 桌機版下隱藏手機版元素 */
        .mobile-left,
        .mobile-center,
        .mobile-right {
            display: none;
        }
        
        /* 通用控制按鈕樣式 */
        .control-btn {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 248, 220, 0.95) 0%,
                    rgba(250, 235, 215, 0.95) 50%,
                    rgba(245, 222, 179, 0.95) 100%);
            color: #8b4513;
            border: 1px solid rgba(184, 134, 11, 0.3);
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 2px 8px rgba(139, 69, 19, 0.15),
                inset 0 1px 2px rgba(255, 255, 255, 0.6);
        }
        
        .control-btn:hover {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 248, 220, 1) 0%,
                    rgba(250, 235, 215, 1) 50%,
                    rgba(245, 222, 179, 1) 100%);
            transform: translateY(-2px);
            box-shadow: 
                0 4px 12px rgba(139, 69, 19, 0.2),
                inset 0 1px 3px rgba(255, 255, 255, 0.8);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        /* 播放/暫停按鈕特殊樣式 */
        .play-pause-btn {
            background: 
                linear-gradient(135deg, 
                    rgba(139, 69, 19, 0.95) 0%, 
                    rgba(160, 82, 45, 0.95) 25%,
                    rgba(205, 133, 63, 0.95) 50%,
                    rgba(184, 134, 11, 0.95) 75%,
                    rgba(139, 69, 19, 0.95) 100%) !important;
            color: #fff4e6 !important;
            width: 42px;
            height: 42px;
            font-size: 16px;
            border: 2px solid rgba(255, 215, 0, 0.4) !important;
            box-shadow: 
                0 3px 12px rgba(139, 69, 19, 0.3),
                inset 0 1px 3px rgba(255, 215, 0, 0.3) !important;
        }
        
        .play-pause-btn:hover {
            background: 
                linear-gradient(135deg, 
                    rgba(160, 82, 45, 1) 0%, 
                    rgba(205, 133, 63, 1) 25%,
                    rgba(184, 134, 11, 1) 50%,
                    rgba(218, 165, 32, 1) 75%,
                    rgba(160, 82, 45, 1) 100%) !important;
        }
        
        /* 時間顯示 */
        .current-time {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 248, 220, 0.95) 0%,
                    rgba(250, 235, 215, 0.95) 100%);
            color: #8b4513;
            padding: 6px 10px;
            border-radius: 12px;
            font-family: 'Consolas', 'SF Mono', 'Monaco', monospace;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
            min-width: 50px;
            text-align: center;
            border: 1px solid rgba(184, 134, 11, 0.3);
            box-shadow: 
                0 2px 6px rgba(139, 69, 19, 0.1),
                inset 0 1px 2px rgba(255, 255, 255, 0.6);
        }
        
        /* 速度控制 */
        .speed-select {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 248, 220, 0.95) 0%,
                    rgba(250, 235, 215, 0.95) 100%);
            border: 1px solid rgba(184, 134, 11, 0.3);
            border-radius: 12px;
            padding: 6px 8px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            min-width: 55px;
            text-align: center;
            color: #8b4513;
            box-shadow: 
                0 2px 6px rgba(139, 69, 19, 0.1),
                inset 0 1px 2px rgba(255, 255, 255, 0.6);
        }
        
        .speed-select:hover {
            border-color: rgba(184, 134, 11, 0.5);
        }
        
        .speed-select:focus {
            outline: none;
            border-color: rgba(139, 69, 19, 0.6);
        }
        
        /* 桌面版輔助提示 */
        .helper-text {
            font-size: 9px;
            color: #6c757d;
            margin-top: 2px;
            text-align: center;
            opacity: 0.8;
            font-weight: 500;
        }
        
        /* 響應式設計 */
        @media (max-width: 768px) {
            body {
                margin: 0;
                padding: 5px; /* 手機版：較小的 padding */
                padding-bottom: 80px;
            }
            
            .container {
                margin: 10px auto; /* 手機版：與桌面版相同 */
                padding: 10px; /* 手機版：較小的 padding */
            }
            
            /* 手機版控制列調整 */
            .video-controls {
                padding: 8px 12px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            /* 手機版顯示元素 */
            .mobile-left {
                display: flex;
                align-items: center;
                gap: 8px;
            }
            
            .mobile-center {
                display: flex;
                align-items: center;
                gap: 6px;
            }
            
            .mobile-right {
                display: flex;
                align-items: center;
            }
            
            /* 手機版下隱藏桌機版元素 */
            .video-controls > div:not(.mobile-left):not(.mobile-center):not(.mobile-right) {
                display: none;
            }
            
            .helper-text {
                display: none;
            }
            
            .main-content {
                grid-template-columns: 1fr !important;
                gap: 15px;
            }
            

            
            .section-title {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                padding: 8px;
                margin-bottom: 10px;
            }
            
            .mantra-content {
                padding: 10px;
                margin-bottom: 10px;
            }
            
            .mantra-section {
                gap: 8px;
                margin-bottom: 8px;
            }
            
            .word-group {
                min-width: 90px;
            }
            
            .romanization {
                font-size: 14px;
                margin-bottom: 3px;
                letter-spacing: 1px;
            }
            
            .chinese {
                font-size: 13px;
                line-height: 1.2;
            }
            
            .separator {
                margin: 8px 0;
            }
            
            .control-btn {
                width: 36px;
                height: 36px;
                font-size: 14px;
            }
            
            .play-pause-btn {
                width: 44px;
                height: 44px;
                font-size: 18px;
            }
            
            .current-time {
                padding: 6px 10px;
                font-size: 11px;
                min-width: 50px;
            }
            
            .speed-select {
                padding: 6px 10px;
                font-size: 11px;
                min-width: 60px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                margin: 0;
                padding: 3px; /* 小螢幕：更小的 padding */
                padding-bottom: 75px;
            }
            
            .container {
                margin: 8px auto; /* 小螢幕：更小的 margin */
                padding: 8px; /* 小螢幕：更小的 padding */
            }
            
            .title {
                font-size: 15px;
                padding: 8px 40px;
                margin: -8px -8px 15px -8px;
            }
            
            .section-title {
                font-size: 13px;
                padding: 6px;
                margin-bottom: 8px;
            }
            
            .mantra-content {
                padding: 8px;
                margin-bottom: 8px;
            }
            
            .mantra-section {
                gap: 6px;
                margin-bottom: 6px;
            }
            
            .word-group {
                min-width: 80px;
            }
            
            .romanization {
                font-size: 12px;
                margin-bottom: 2px;
                letter-spacing: 0.5px;
            }
            
            .chinese {
                font-size: 11px;
                line-height: 1.1;
            }
            
            .video-controls {
                padding: 6px 8px;
            }
            
            .control-btn {
                width: 32px;
                height: 32px;
                font-size: 12px;
            }
            
            .play-pause-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
            
            .current-time {
                padding: 5px 8px;
                font-size: 10px;
                min-width: 45px;
            }
            
            .speed-select {
                padding: 5px 8px;
                font-size: 10px;
                min-width: 55px;
            }
        }
    </style>
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
    <!-- 現代化播放器控制列 -->
    <div class="video-controls" id="videoControls">
        <!-- 手機版左側區域 -->
        <div class="mobile-left">
            <button class="control-btn" onclick="resetAndPlay()" title="重新播放">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path>
                </svg>
            </button>
            <div class="current-time" id="currentTime">00:00</div>
        </div>
        
        <!-- 手機版中央區域 -->
        <div class="mobile-center">
            <button class="control-btn" onclick="seekRelative(-2)" title="後退 2 秒">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>
                </svg>
            </button>
            <button class="control-btn play-pause-btn" id="playPauseBtn" onclick="togglePlayPause()" title="播放/暫停">
                <svg id="playIcon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="display: block;">
                    <path d="M8 5v14l11-7z"></path>
                </svg>
                <svg id="pauseIcon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
                </svg>
            </button>
            <button class="control-btn" onclick="seekRelative(2)" title="前進 2 秒">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16 18h2V6h-2zm-3.5-6L4 6v12z"></path>
                </svg>
            </button>
        </div>
        
        <!-- 手機版右側區域 -->
        <div class="mobile-right">
            <select class="speed-select" id="speedSelect" onchange="changePlaybackRate()" title="播放速度">
                <option value="0.25">0.25×</option>
                <option value="0.5">0.5×</option>
                <option value="0.75">0.75×</option>
                <option value="1" selected>1×</option>
                <option value="1.25">1.25×</option>
                <option value="1.5">1.5×</option>
                <option value="1.75">1.75×</option>
                <option value="2">2×</option>
            </select>
        </div>
        
        <!-- 桌機版元素（手機版下隱藏） -->
        <!-- 重新播放 -->
        <div>
            <button class="control-btn" onclick="resetAndPlay()" title="重新播放">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path>
                </svg>
            </button>
            <div class="helper-text">R 鍵</div>
        </div>
        
        <!-- 時間顯示 -->
        <div class="current-time" id="currentTimeDesktop">00:00</div>
        
        <!-- 後退 -->
        <div>
            <button class="control-btn" onclick="seekRelative(-2)" title="後退 2 秒">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>
                </svg>
            </button>
            <div class="helper-text">← 或 [</div>
        </div>
        
        <!-- 播放/暫停 -->
        <div>
            <button class="control-btn play-pause-btn" id="playPauseBtnDesktop" onclick="togglePlayPause()" title="播放/暫停">
                <svg id="playIconDesktop" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="display: block;">
                    <path d="M8 5v14l11-7z"></path>
                </svg>
                <svg id="pauseIconDesktop" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
                </svg>
            </button>
            <div class="helper-text">空白鍵</div>
        </div>
        
        <!-- 前進 -->
        <div>
            <button class="control-btn" onclick="seekRelative(2)" title="前進 2 秒">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16 18h2V6h-2zm-3.5-6L4 6v12z"></path>
                </svg>
            </button>
            <div class="helper-text">→ 或 ]</div>
        </div>
        
        <!-- 速度控制 -->
        <div>
            <select class="speed-select" id="speedSelectDesktop" onchange="changePlaybackRate()" title="播放速度">
                <option value="0.25">0.25×</option>
                <option value="0.5">0.5×</option>
                <option value="0.75">0.75×</option>
                <option value="1" selected>1×</option>
                <option value="1.25">1.25×</option>
                <option value="1.5">1.5×</option>
                <option value="1.75">1.75×</option>
                <option value="2">2×</option>
            </select>
            <div class="helper-text">- + 鍵</div>
        </div>
    </div>
    
    <div class="container">
        <div class="title">《藥師咒》梵漢對照全文</div>
        
        <div class="main-content vertical-mode" id="mainContent">
            <!-- 左側：影片區域 -->
            <div class="left-section">
                <div class="video-section">
                    <div class="section-title">
                        梵字拼音對照
                    </div>
                    
                    <div class="video-container">
                        <iframe id="youtubePlayer" 
                                frameborder="0" 
                                allowfullscreen 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                referrerpolicy="strict-origin-when-cross-origin" 
                                title="108篇藥師咒、藥師灌頂真言 (梵音)" 
                                width="100%" 
                                height="100%" 
                                src="https://www.youtube.com/embed/oayy63pHCAA?enablejsapi=1&rel=0&modestbranding=1&controls=0&disablekb=1&playsinline=1&iv_load_policy=3&fs=0">
                        </iframe>
                    </div>
                </div>
            </div>
            
            <!-- 右側：梵字全文 -->
            <div class="right-section">
                <div class="mantra-content">
                    
                    <div class="mantra-section">
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">na</span> - <span class="voiced">mo</span></div>
                            <div class="chinese">禮敬</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">bha</span> - <span class="voiced">ga</span> - <span class="voiced">va</span> - <span class="voiced-pronunciation">te</span></div>
                            <div class="chinese">世尊</div>
                        </div>
                    </div>
                    
                    <div class="mantra-section">
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">bhai</span> - <span class="voiceless">ṣa</span> - <span class="voiced">jya</span> - <span class="voiced">gu</span> - <span class="voiced">ru</span></div>
                            <div class="chinese">藥師</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">vai</span> - <span class="voiced">ḍū</span> - <span class="voiced">rya</span></div>
                            <div class="chinese">琉璃</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiceless">pra</span> - <span class="voiced">bhā</span></div>
                            <div class="chinese">光</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">rā</span> - <span class="voiced">jā</span> - <span class="voiced">ya</span></div>
                            <div class="chinese">王</div>
                        </div>
                    </div>
                    
                    <div class="mantra-section">
                        <div class="word-group">
                            <div class="romanization"><span class="voiced-pronunciation">ta</span> - <span class="voiceless">thā</span> - <span class="voiced">ga</span> - <span class="voiced-pronunciation">tā</span> - <span class="voiced">ya</span></div>
                            <div class="chinese">如來</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">ar</span> - <span class="voiceless">ha</span> - <span class="voiced-pronunciation">te</span></div>
                            <div class="chinese">應供</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiceless">sam</span> - <span class="voiced">yak</span> - <span class="voiceless">saṃ</span> - <span class="voiced">bu</span> - <span class="voiced">ddhā</span> - <span class="voiced">ya</span></div>
                            <div class="chinese">正等覺</div>
                        </div>
                    </div>
                    
                    <div class="separator"></div>
                    
                    <div class="mantra-section">
                        <div class="word-group">
                            <div class="romanization"><span class="voiced-pronunciation">tad</span> - <span class="voiced">ya</span> - <span class="voiceless">thā</span></div>
                            <div class="chinese">即說咒曰：</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">oṃ</span></div>
                            <div class="chinese">嗡！</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">bhai</span> - <span class="voiceless">ṣa</span> - <span class="voiced">jye</span></div>
                            <div class="chinese">藥！</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">bhai</span> - <span class="voiceless">ṣa</span> - <span class="voiced">jye</span></div>
                            <div class="chinese">藥！</div>
                        </div>
                    </div>
                    
                    <div class="mantra-section">
                        <div class="word-group">
                            <div class="romanization"><span class="voiced">bhai</span> - <span class="voiceless">ṣa</span> - <span class="voiced">jya</span></div>
                            <div class="chinese">藥</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiceless">sa</span> - <span class="voiced">mud</span> - <span class="voiced">ga</span> - <span class="voiced-pronunciation">te</span></div>
                            <div class="chinese">生起來！</div>
                        </div>
                        
                        <div class="word-group">
                            <div class="romanization"><span class="voiceless">svā</span> - <span class="voiceless">hā</span></div>
                            <div class="chinese">成就！</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let player;
        let isPlaying = false;
        let currentTime = 0;
        let timeUpdateInterval;

        let playerReady = false;
        
        // 可用的播放速度選項
        const speedOptions = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];
        let currentSpeedIndex = 3; // 預設 1x 速度
        
        // YouTube IFrame API 準備就緒時調用
        function onYouTubeIframeAPIReady() {
            console.log('YouTube API 正在初始化...');
            player = new YT.Player('youtubePlayer', {
                height: '100%',
                width: '100%',
                videoId: 'oayy63pHCAA',
                playerVars: {
                    'enablejsapi': 1,
                    'rel': 0,
                    'modestbranding': 1,
                    'controls': 0,
                    'disablekb': 1,
                    'playsinline': 1,
                    'iv_load_policy': 3,
                    'fs': 0,
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError
                }
            });
        }
        
        function onPlayerReady(event) {
            console.log('YouTube Player 已準備就緒');
            playerReady = true;
            startTimeUpdate();
            
            // 初始化時間顯示
            updateTimeDisplay();
        }
        
        function onPlayerStateChange(event) {
            console.log('播放器狀態變化:', event.data);
            
            if (event.data == YT.PlayerState.PLAYING) {
                isPlaying = true;
                updatePlayPauseButton();
                console.log('開始播放');
            } else if (event.data == YT.PlayerState.PAUSED) {
                isPlaying = false;
                updatePlayPauseButton();
                console.log('暫停播放');
            } else if (event.data == YT.PlayerState.ENDED) {
                isPlaying = false;
                updatePlayPauseButton();
                console.log('播放結束');
            }
        }
        
        function onPlayerError(event) {
            console.error('YouTube Player 錯誤:', event.data);
        }
        
        function togglePlayPause() {
            if (!playerReady || !player) {
                console.log('播放器尚未準備就緒');
                return;
            }
            
            try {
                if (isPlaying) {
                    player.pauseVideo();
                    console.log('執行暫停');
                } else {
                    player.playVideo();
                    console.log('執行播放');
                }
            } catch (error) {
                console.error('播放/暫停操作失敗:', error);
            }
        }
        
        function updatePlayPauseButton() {
            // 更新手機版按鈕
            const playIcon = document.getElementById('playIcon');
            const pauseIcon = document.getElementById('pauseIcon');
            
            // 更新桌機版按鈕
            const playIconDesktop = document.getElementById('playIconDesktop');
            const pauseIconDesktop = document.getElementById('pauseIconDesktop');
            
            if (playIcon && pauseIcon) {
                if (isPlaying) {
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                } else {
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                }
            }
            
            if (playIconDesktop && pauseIconDesktop) {
                if (isPlaying) {
                    playIconDesktop.style.display = 'none';
                    pauseIconDesktop.style.display = 'block';
                } else {
                    playIconDesktop.style.display = 'block';
                    pauseIconDesktop.style.display = 'none';
                }
            }
        }
        
        function seekRelative(seconds) {
            if (!playerReady || !player) {
                console.log('播放器尚未準備就緒，無法跳轉');
                return;
            }
            
            try {
                const currentTime = player.getCurrentTime();
                const newTime = Math.max(0, currentTime + seconds);
                player.seekTo(newTime, true);
                console.log(`跳轉到: ${newTime.toFixed(1)}秒 (${seconds > 0 ? '+' : ''}${seconds}秒)`);
            } catch (error) {
                console.error('跳轉失敗:', error);
            }
        }
        
        function resetAndPlay() {
            if (!playerReady || !player) {
                console.log('播放器尚未準備就緒，無法重置');
                return;
            }
            
            try {
                player.seekTo(0, true);
                player.playVideo();
                console.log('重置並開始播放');
            } catch (error) {
                console.error('重置播放失敗:', error);
            }
        }
        
        function changePlaybackRate() {
            if (!playerReady || !player) {
                console.log('播放器尚未準備就緒，無法改變速度');
                return;
            }
            
            const selects = document.querySelectorAll('.speed-select');
            let rate = 1;
            
            selects.forEach(select => {
                if (document.activeElement === select) {
                    rate = parseFloat(select.value);
                    currentSpeedIndex = speedOptions.indexOf(rate);
                    
                    // 同步其他選擇器
                    selects.forEach(otherSelect => {
                        if (otherSelect !== select) {
                            otherSelect.value = select.value;
                        }
                    });
                }
            });
            
            try {
                player.setPlaybackRate(rate);
                console.log('播放速度已設為:', rate + 'x');
            } catch (error) {
                console.error('設定播放速度失敗:', error);
            }
        }
        
        function adjustSpeed(direction) {
            if (!playerReady || !player) return;
            
            if (direction === 'up' && currentSpeedIndex < speedOptions.length - 1) {
                currentSpeedIndex++;
            } else if (direction === 'down' && currentSpeedIndex > 0) {
                currentSpeedIndex--;
            } else {
                return;
            }
            
            const newSpeed = speedOptions[currentSpeedIndex];
            
            try {
                player.setPlaybackRate(newSpeed);
                
                const selects = document.querySelectorAll('.speed-select');
                selects.forEach(select => {
                    select.value = newSpeed;
                });
                
                console.log(`速度調整至: ${newSpeed}x`);
                showSpeedNotification(newSpeed);
                
            } catch (error) {
                console.error('設定播放速度失敗:', error);
            }
        }
        
        function showSpeedNotification(speed) {
            let notification = document.getElementById('speedNotification');
            if (!notification) {
                notification = document.createElement('div');
                notification.id = 'speedNotification';
                notification.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 8px;
                    font-size: 18px;
                    font-weight: 600;
                    z-index: 1000;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    pointer-events: none;
                `;
                document.body.appendChild(notification);
            }
            
            notification.textContent = `播放速度: ${speed}x`;
            notification.style.opacity = '1';
            
            setTimeout(() => {
                notification.style.opacity = '0';
            }, 1000);
        }
        
        function startTimeUpdate() {
            if (timeUpdateInterval) {
                clearInterval(timeUpdateInterval);
            }
            
            timeUpdateInterval = setInterval(() => {
                if (playerReady && player && typeof player.getCurrentTime === 'function') {
                    try {
                        currentTime = player.getCurrentTime();
                        updateTimeDisplay();
                    } catch (error) {
                        // 靜默處理錯誤
                    }
                }
            }, 500); // 減少更新間隔到500ms以獲得更精確的時間顯示
        }
        
        function updateTimeDisplay() {
            const timeElement = document.getElementById('currentTime');
            const timeElementDesktop = document.getElementById('currentTimeDesktop');
            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeElement) {
                timeElement.textContent = timeString;
            }
            
            if (timeElementDesktop) {
                timeElementDesktop.textContent = timeString;
            }
        }
        

        
        // 鍵盤快捷鍵支援
        document.addEventListener('keydown', function(event) {
            if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.tagName === 'SELECT') {
                return;
            }
            
            switch(event.code) {
                case 'Space':
                    event.preventDefault();
                    togglePlayPause();
                    break;
                case 'KeyR':
                    event.preventDefault();
                    resetAndPlay();
                    break;
                case 'ArrowLeft':
                case 'BracketLeft':
                    event.preventDefault();
                    seekRelative(-2);
                    break;
                case 'ArrowRight':
                case 'BracketRight':
                    event.preventDefault();
                    seekRelative(2);
                    break;
                case 'Minus':
                case 'NumpadSubtract':
                    if (!event.metaKey) {
                        event.preventDefault();
                        adjustSpeed('down');
                    }
                    break;
                case 'Equal':
                case 'NumpadAdd':
                    if (!event.metaKey) {
                        event.preventDefault();
                        adjustSpeed('up');
                    }
                    break;
                case 'Digit0':
                case 'Numpad0':
                    if (!event.metaKey) {
                        event.preventDefault();
                        currentSpeedIndex = 3;
                        const normalSpeed = speedOptions[currentSpeedIndex];
                        if (playerReady && player) {
                            player.setPlaybackRate(normalSpeed);
                            const selects = document.querySelectorAll('.speed-select');
                            selects.forEach(select => {
                                select.value = normalSpeed;
                            });
                            showSpeedNotification(normalSpeed);
                            console.log('速度重設為正常: 1x');
                        }
                    }
                    break;
            }
        });
        
        // 頁面載入完成後的初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('頁面已載入，等待 YouTube API...');
            console.log('控制欄模式：統一固定在底部');
            
            // 確保 YouTube API 腳本已載入
            if (!window.YT) {
                console.log('正在等待 YouTube API 載入...');
            }
        });
        
        // 清理函數
        window.addEventListener('beforeunload', function() {
            if (timeUpdateInterval) {
                clearInterval(timeUpdateInterval);
            }
        });
    </script>
</body>
</html>