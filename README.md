# 藥師咒助念器

一個專為藥師咒助念設計的現代化網頁應用程式，提供影片播放、計數器功能和進度記憶。

## 最新更新 (2025)

### 🎯 智能時間記憶功能
- **避免初始載入時儲存0秒時間**：影片載入時的初始暫停狀態不會被記憶為0秒
- **只在真正播放時記憶時間**：只有在用戶實際開始播放後才會開始記憶播放時間
- **智能恢復播放位置**：
  - 大於5秒的時間會自動跳轉到該位置
  - 小於5秒的時間會記錄但不自動跳轉
  - 0秒或無效時間會從頭開始播放
- **播放狀態追蹤**：追蹤是否已經開始過播放，避免在初始載入時儲存無效時間

### 🎨 全新使用者介面設計
- **現代化控制列**：重新設計的播放控制介面，支援手機和桌機雙版本
- **浮動計數器面板**：手機版專用的可收合計數器面板
- **紙張質感背景**：採用自然紙張紋理和溫暖色調設計
- **響應式佈局**：完美適配各種螢幕尺寸
- **動畫效果**：流暢的過渡動畫和視覺回饋

### 📊 增強的計數器功能
- **雙版本設計**：手機版浮動面板 + 桌機版固定按鈕
- **即時計數**：點擊或按Enter鍵增加計數
- **重置功能**：按Delete鍵或點擊重置按鈕
- **自動儲存**：計數器數值自動保存到本機
- **視覺回饋**：計數時的動畫效果和狀態提示

### 🔧 技術改進
- **YouTube API 優化**：改進影片載入和錯誤處理
- **本機儲存增強**：更穩定的資料保存和恢復機制
- **鍵盤快捷鍵**：完整的鍵盤操作支援
- **效能優化**：減少記憶體使用和提升載入速度

### 💾 智能儲存系統
- **狀態記憶**：自動記住播放位置、計數和播放速度
- **儲存狀態提示**：載入時顯示已保存的進度資訊
- **自動備份**：定期自動保存，避免資料遺失
- **錯誤處理**：優雅的儲存失敗處理機制

## 功能特色

### 🎬 影片播放控制
- **智能播放控制**：播放/暫停、前進/後退、重置
- **播放速度調整**：0.25x 到 2x 多種速度選擇
- **鍵盤快捷鍵**：空白鍵播放/暫停，方向鍵跳轉
- **進度記憶**：自動記住上次播放位置
- **時間顯示**：即時顯示當前播放時間

### 📱 響應式設計
- **手機版**：浮動控制列 + 可收合計數器面板
- **桌機版**：固定控制列 + 內建計數器按鈕
- **自適應佈局**：根據螢幕大小自動調整
- **觸控優化**：針對觸控設備優化的按鈕大小和間距

### 🎨 視覺設計
- **紙張質感**：自然紙張紋理和溫暖色調
- **現代化圖示**：SVG 圖示和流暢動畫
- **漸變效果**：優雅的背景漸變和陰影效果
- **字體優化**：支援梵文和中文的專業字體

### 🔍 分析與監控
- **錯誤日誌**：詳細的錯誤記錄和除錯資訊
- **效能指標**：載入時間和使用者互動追蹤

## 使用方式

### 基本操作
1. **播放控制**：點擊播放按鈕或按空白鍵
2. **跳轉**：使用方向鍵或點擊前進/後退按鈕
3. **速度調整**：使用下拉選單或 +/- 鍵
4. **計數**：點擊計數器或按Enter鍵
5. **重置**：點擊重置按鈕或按Delete鍵

### 鍵盤快捷鍵
- **空白鍵**：播放/暫停
- **方向鍵**：前進/後退 2 秒
- **Enter 鍵**：增加計數
- **Delete 鍵**：重設計數器
- **R 鍵**：重新播放影片
- **+/- 鍵**：調整播放速度

### 時間記憶功能
- 影片會在播放時自動記憶當前位置
- 重新載入頁面時會自動恢復到上次播放位置
- 重置按鈕會清除記憶並從頭開始播放
- 載入時會顯示已保存的進度資訊

## 技術架構

### 核心類別
- `AppState`：應用程式狀態管理
- `YouTubePlayerManager`：YouTube播放器控制
- `CounterManager`：計數器功能管理
- `LocalStorageManager`：本機儲存管理
- `UIManager`：使用者介面更新
- `TimeManager`：時間更新管理
- `SpeedController`：播放速度控制
- `EventManager`：事件處理管理
- `YouTubeAPIManager`：YouTube API 管理

### 儲存機制
- 使用localStorage進行本機儲存
- 自動定期保存播放位置和計數
- 頁面關閉時自動保存當前狀態
- 智能儲存策略，避免無效資料

### 響應式設計
- CSS Grid 和 Flexbox 佈局
- 媒體查詢適配不同螢幕尺寸
- 觸控友好的介面設計
- 漸進式增強功能

## 瀏覽器支援
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 支援 ES6+ 和現代 CSS 功能

## 本地開發

1. 克隆專案
```bash
git clone [repository-url]
cd Medicine-Buddha-Mantra
```

2. 啟動本地伺服器
```bash
python3 -m http.server 8000
# 或
npx serve .
```

3. 開啟瀏覽器訪問 `http://localhost:8000`

## 注意事項

- 需要網路連線以載入YouTube影片
- 建議使用現代瀏覽器以獲得最佳體驗
- 本機儲存功能需要瀏覽器支援localStorage
- 計數器和播放進度會自動保存到瀏覽器本機儲存

## 授權

本專案採用 MIT 授權條款。
